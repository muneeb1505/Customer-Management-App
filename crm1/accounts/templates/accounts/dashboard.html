{% extends "accounts/main.html" %}

{% block content %}
<div class="container mt-4">
  <div class="row text-center">
    <div class="col-md-4 mb-3">
      <div class="card stat-card bg-info text-white shadow">
        <div class="card-header">
          <h5 class="card-title">Total Orders</h5>
        </div>
        <div class="card-body">
          <h4 class="card-title">{{total_orders}}</h4>
        </div>
      </div>
    </div>
    <div class="col-md-4 mb-3">
      <div class="card stat-card bg-primary text-white shadow">
        <div class="card-header">
          <h5 class="card-title">Orders Delivered</h5>
        </div>
         <div class="card-body">
          <h4 class="card-title">{{delivered}}</h4>
        </div>
      </div>
    </div>
    <div class="col-md-4 mb-3">
      <div class="card stat-card bg-success text-white shadow">
        <div class="card-header">
          <h5 class="card-title">Orders Pending</h5>
        </div>
         <div class="card-body">
          <h4 class="card-title">{{pending}}</h4>
        </div>
      </div>
    </div>
  </div>
</div>

<hr>

 <!-- Main Content -->
  <div class="container mt-4">

    <!-- Title Row -->
    <div class="row">
      <div class="col-md-6">
        <h5>CUSTOMERS:</h5>
      </div>
      <div class="col-md-6">
        <h5>LAST 5 ORDERS</h5>
      </div>
    </div>

    <!-- Cards Row -->
    <div class="row">

      <!-- Customer Card -->
      <div class="col-md-6 mb-4">
        <div class="card">
          <div class="card-body">
            <a href="#" class="btn btn-primary w-100 mb-3">Create Customer</a>
            <table class="table table-bordered">
              <thead>
                <tr>
                  <th></th>
                  <th>Customer</th>
                  <th>Phone</th>
                </tr>

              {% for customer in customers %}
              <tr>
                <td><a class="btn btn-success btn-sm" href="{% url 'customers' customer.id %}" role="button">View</a></td>
                <td>{{customer.name}}</td>
                <td>{{customer.phone}}</td>
              </tr>
              {% endfor %}

              </thead>
              <tbody>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Orders Card -->
      <div class="col-md-6 mb-4">
        <div class="card">
          <div class="card-body">
            <table class="table table-bordered">
              <thead>
                <tr>
                  <th>Product</th>
                  <th>Date Ordered</th>
                  <th>Status</th>
                  <th>Update</th>
                  <th>Remove</th>
                </tr>

              {% for order in orders %}
              <tr>
                <td>{{order.product}}</td>
                <td>{{order.date_created}}</td>
                <td>{{order.status}}</td>
                <td><a class="btn btn-primary btn-sm" href="{% url 'update_order' order.id %}" role="button">Update</a></td>
                <td><a class="btn btn-danger btn-sm" href="{% url 'delete_order' order.id %}" role="button">Delete</a></td>
              </tr>
              {% endfor %}

              </thead>
              <tbody>
              </tbody>
            </table>
          </div>
        </div>
      </div>

    </div>

{% endblock content %}